# The 2020 East Troublesome Fire: What may have happened if there had been one more windy day?
This repository contains code to accompany a manuscript by Hemming-Schroeder et al., submitted to *Earth's Future*.

The figure scripts are intended to be completed in the following order as some outputs depend on outputs from the previous scripts:

* figure_00_prepare_LANDFIRE_data.R
* figure_S01_fuels.R
* figure_S02_wind_region.R
* figure_03_wind_speeds.R
* figure_04_select_parameters.R
* figure_05_buildings_and_exits.R
* figure_06_fire_perimeters_from_wrf_output.R
* figure_07_estimate_fire_speed.R
* figure_08_evacuation_models.R
* figure_09_fire_distance_from_town.R

The stucture of this directory includes a **downloads** directory. This directory includes data sets that need to be downloaded from other sources. Instructions for downloading data are included in the downloads directory. The scripts above include references to locations within the downloads directory such as **downloads/LANDFIRE** that need to be created following the instructions.

In many cases, intermediate data types are generated and then stored in the **data** directory. Some of these intermediate data types such as the evacuation model outputs are already included here for convenience. However, items that are filtered or cropped data products from primary sources need to be generated from the downloaded data using these scripts or another method. 

The **figures** directory stores all the figures generated using R scripts. The first two figures are created in QGIS using data sets that can be downloaded following the instructions in the downloads directory or that are created within these R scripts.

The **namelist_files/wps** directory includes a namelist file for the Weather Research and Forecasting (WRF) Preprocessing System (WPS) that specifies the simulation setup for this study. The R files which include 
* one_more_windy_day_setup.R, and
* one_more_windy_day.R

detail how to write over the timestamps from the met_em*.nc files generated by WPS to cycle back through conditions from October 21, 2020, to simulate one more windy day. 

The **namelist_files/wrf** directory includes files that show the settings used for the WRF-Fire simulations.

The **wps_outputs** file includes the static layers and meteorological fields generated by WPS for the control conditions in the **control** directory and the experiment conditions in the **experiment** directory. Note that to run WRF, the control orig_met_em*.nc files were renamed to remove the orig_ prefix that is generated when the experiment conditions are created using the one_more_windy_day*.R files included in the **namelist_files/wps** directory. The orig_ prefix is included here to keep the two control and experiment inputs separate.

The **wrf_outputs** file includes outputs for the inner domain (domain 02) for parameter selection, the control simulation, and the experiment simulation. The notation hgt_02_gm_0145000 refers the fire wind height of 2 meters and ground moisture of 14.5%. The ground fuel moisture values vary in the **parameter_selection** directory from 9% to 20% for selecting the best ground fuel moisture of the values considered in this study.


